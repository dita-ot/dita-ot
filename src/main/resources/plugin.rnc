plugin =
  element plugin {
    attribute id { xsd:NCName },
    (feature | transtype | extension-point | require | metadata | template)*
  }
feature =
  element feature {
    attribute extension { xsd:NCName },
    (attribute file { text }
     | (attribute value { text },
        attribute type { "file" | "text" }?))
  }
transtype =
  element transtype {
    attribute name {
      list { xsd:NCName+ }
    },
    attribute desc { text }?,
    attribute abstract { xsd:boolean }?,
    attribute extends {
      list { xsd:NCName+ }
    }?,
    param*
  }
param =
  element param {
    attribute required { xsd:boolean }?,
    attribute deprecated { xsd:boolean }?,
    attribute name {
      list { xsd:NCName+ }
    }?,
    attribute desc { text }?,
    param.val
  }
param.val |=
  attribute type { "enum" },
  val+
param.val |=
  attribute type { "string" },
  val*
param.val |= attribute type { "file" | "dir" }
val =
  element val {
    attribute desc { text }?,
    attribute default { xsd:boolean }?,
    text
  }
extension-point =
  element extension-point {
    attribute id { xsd:NCName },
    attribute name { text }
  }
require =
  element require {
    attribute plugin { xsd:NCName },
    attribute importance { "required" | "optional" }?
  }
metadata =
  element metadata {
    attribute type { xsd:NCName },
    attribute value { text }
  }
template =
  element template {
    attribute file { text }
  }
start = plugin
