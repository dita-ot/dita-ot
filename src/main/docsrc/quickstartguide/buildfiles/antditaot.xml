<?xml version="1.0" encoding="UTF-8"?>
<!-- Author: Rob Justice -->
<!-- Date: 6/26/10 -->
<!-- You must run the startcmd.bat file in the DITA-OT toolkit directory to set severaltoolkit-related   environment variables.	-->
<!-- Date: May 22, 2011 -->
<!-- Replace this build file with a ditamap file -->
<project name="antquickstartguide" default="dita2pdf" basedir=".">
	<!-- Set project-specific environment variables -->
	<property environment = "env"/>
	<!-- <property name="toolkit_dir" value="${env.DITA_DIR}" /> -->
  	<property name="DITA_DIR" value="${env.DITA_DIR}"/>
	<import file="${DITA_DIR}/integrator.xml"/>
	<property name="args.logdir" value="../logs"/>
	<property name="dita.input.valfile" value="../QSG.ditaval"/>

	<!-- Specifies file types for your content and image files.  Change these values if you use  			-->
	<!-- .xml rather than .dita for content, and .jpg or .png rather than .gif for images.       			-->
	<property name="dita.extname" value=".dita"/>
	<property name="args.fo.img.ext" value=".gif"/>
	
	<!-- The dita.temp.dir directory contains files automatically generated by DITA-OT during the document    -->
	<!-- generation. The directory is shared by all targets and all temp files are deleted by default.  Set   -->
	<!-- the clean.temp property to "no" if you want to read the content of the temp files to debug an error. -->
	
	<property name="output.dir" location="../output"/>
	<property name="outdir" location ="../output"/>
	<property name="clean.temp" value="no"/>
	
	<!-- The Apache FOP formatter does not support indexing for the dita2pdf2 transtype.  Set this property to "no" to --> 
	<!-- prevent an unusable index link appearing in your document project. 							  -->
	<property name="args.indexshow" value="no"/>
	
	<!-- The MAP_file property contains the name of the .ditamap for the project.							-->
	<!-- The map_dir property specifies the directory where this .ditamap and others reside.				-->	
	<!-- You can easily provide topic-level filtering of your projects by using a different .ditamap		-->
	<!-- file.  This option may be easier for some documentation projects than content-level filtering,		-->
	<!-- creating a separate .ditaval file and inserting otherprops attributes in your content files.		-->
	<!--<property name="map_dir" value="../.." /> -->
	<property name="MAP_file" value="../quickstartguide.ditamap"/>
	
	<!-- The outer.control property suppresses certain trivial errors in the log.							--> 
	<!-- <property name="outer.control" value="quiet" />	-->	

	<target name="dita2pdf">
			<ant antfile="${DITA_DIR}/build.xml" target="init">
				<property name="transtype" value="pdf2"/>
				<property name="args.input" value="${MAP_file}"/>
				<property name="dita.temp.dir" value="${outdir}/temp_pdf"/>
				<property name="output.dir" value="${outdir}/pdf"/>
				<property name="outer.control" value="quiet"/>
				<property name="clean.temp" value="yes"/>
			</ant>
	</target>
	
	<!-- Target for creating Microsoft HTML Help system.													-->
	<target name="dita2htmlhelp" depends="integrate">
		<ant antfile="${DITA_DIR}/build.xml" target="init">
			<property name="transtype" value="htmlhelp"/>
			<property name="args.input" value="${MAP_file}"/>
			<property name="output.dir" value="${outdir}/htmlhelp"/>
			<property name="dita.temp.dir" value="${outdir}/temp_htmlhelp"/>
			<property name="args.outext" value=".html"/>
			<property name="out.ext" value=".html"/>
			<property name="args.draft" value="yes"/>
			<property name="dita.extname" value=".dita"/>
		</ant>
	</target>
	
	<!-- Target for creating XHTML documentation.															-->
	<target name="dita2xhtml" depends="integrate">
		<ant antfile="${DITA_DIR}/build.xml" target="init">
			<property name="transtype" value="xhtml"/>
			<property name="args.input" value="${MAP_file}"/>
			<property name="dita.temp.dir" value="${outdir}/temp_xhtml"/>
			<property name="args.outext" value=".html"/>
			<property name="args.xhtml.toc" value="index"/>
			<property name="output.dir" value="${outdir}/xhtml"/>
			<property name="outer.control" value="quiet"/>
		</ant>
	</target>
	<!-- Target for Eclipse plugin 																			-->
	<target name="dita2eclipsecontent">
		<ant antfile="${DITA_DIR}/build.xml" target="init">
			<property name="args.input" value="${MAP_file}"/>
			<property name="output.dir" value="${outdir}/eclipsecontent"/>
			<property name="dita.temp.dir" value="${outdir}/temp_eclipsecontent"/>
			<property name="transtype" value="eclipsecontent"/>
			<property name="args.indexshow" value="yes"/>
			<property name="dita.extname" value=".dita"/>
		</ant>
	</target>
	<!-- Target for Eclipse Help system																		-->
	<target name="dita2eclipsehelp">
		<ant antfile="${DITA_DIR}/build.xml" target="init">
			<property name="args.input" value="${MAP_file}"/>
			<property name="output.dir" value="${outdir}/eclipsehelp"/>
			<property name="dita.temp.dir" value="${outdir}/temp_eclipsehelp"/>
			<property name="transtype" value="eclipsehelp"/>
			<property name="args.draft" value="yes"/>
			<property name="args.indexshow" value="yes"/>
			<property name="dita.extname" value=".dita"/>
		</ant>
	</target>
</project>
